<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Checkout - TechNova</title>

  <!-- Google Fonts Link -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Poppins:wght@400;500;700&display=swap" rel="stylesheet">
  
  <!-- Stripe.js Script -->
  <script src="https://js.stripe.com/v3/"></script>
  
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>

  <header>
    <a href="index.html" class="logo">Tech<span>Nova</span></a>
    <button class="hamburger-btn" id="hamburger-btn" aria-label="Toggle navigation menu">
      <span></span><span></span><span></span>
    </button>
    <nav class="main-nav" id="main-nav-links">
      <span id="userGreeting" style="display:none; align-self: center;"></span>
      <a href="cart.html">Cart</a>
      <a href="orders.html" id="ordersLink" style="display:none;">My Orders</a>
      <a href="#" id="logoutLink" style="display:none;">Logout</a>
      <a href="login.html" id="loginLink">Login</a>
      <a href="register.html" id="registerLink">Register</a>
    </nav>
  </header>

  <main class="container">
    <!-- Progress Indicator -->
    <div class="checkout-progress">
      <div class="step active">Shipping</div>
      <div class="step">Payment</div>
      <div class="step">Review</div>
    </div>

    <div class="checkout-grid">
      <!-- NEW Left Column: Order Summary (Sticky) -->
      <div class="checkout-summary">
        <section class="checkout-section">
          <a href="index.html" class="continue-shopping-link">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="20" height="20"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></svg>
            Continue Shopping
          </a>
          <h2>Your Order</h2>
          
          <ul id="summary-product-list" class="summary-product-list">
            <!-- Items will be inserted here by JavaScript -->
          </ul>
          
          <div class="summary-totals">
            <div class="summary-line">
              <span>Subtotal</span>
              <span id="summary-subtotal">$0.00</span>
            </div>
            <div class="summary-line">
              <span>Shipping</span>
              <span id="summary-shipping">$0.00</span>
            </div>
            <div class="summary-line total">
              <span>Total</span>
              <span id="summary-total">$0.00</span>
            </div>
          </div>

          <div class="button-container">
            <button type="submit" form="payment-form" class="btn-primary" id="submit-button">
              Pay Now
            </button>
            <p id="error-message" class="error-text"></p>
          </div>
        </section>
      </div>

      <!-- NEW Right Column: Form -->
      <div class="checkout-form">
        <form id="payment-form">
          <section class="checkout-section">
            <h2>Shipping Information</h2>
            <div class="form-group">
              <label for="address">Address</label>
              <input type="text" id="address" placeholder="123 Tech Avenue" required>
            </div>
            <div class="form-group">
              <label for="city">City</label>
              <input type="text" id="city" placeholder="Silicon Valley" required>
            </div>
            <div class="form-group">
              <label for="postalCode">Postal Code</label>
              <input type="text" id="postalCode" placeholder="94043" required>
            </div>
            <div class="form-group">
              <label for="country">Country</label>
              <input type="text" id="country" placeholder="United States" required>
            </div>
          </section>

          <section class="checkout-section">
            <h2>Payment Method</h2>
            <p class="secure-payment-text">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" width="16" height="16"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"></path></svg>
              All transactions are secure and encrypted.
            </p>
            <div class="form-group">
              <div id="card-element"><!-- Stripe Element goes here --></div>
              <div id="card-errors" role="alert" class="error-text"></div>
            </div>
          </section>
        </form>
      </div>
    </div>
  </main>

  <footer class="site-footer">
    <div class="container footer-grid">
      <div class="footer-about">
        <a href="index.html" class="logo">Tech<span>Nova</span></a>
        <p>Cutting-edge tech, delivered to you.</p>
      </div>
      <div class="footer-links">
        <h4>Quick Links</h4>
        <ul>
          <li><a href="index.html">Home</a></li>
          <li><a href="cart.html">Cart</a></li>
          <li><a href="orders.html">My Orders</a></li>
        </ul>
      </div>
      <div class="footer-social">
        <h4>Follow Us</h4>
        <div>
          <a href="#" aria-label="Facebook"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-1.5c-1 0-1.5.5-1.5 1.5V12h3l-.5 3h-2.5v6.8c4.56-.93 8-4.96 8-9.8z"/></svg></a>
          <a href="#" aria-label="Twitter"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C7.7 9.09 4.07 7.13 1.64 4.15c-.33.58-.52 1.25-.52 1.96 0 1.49.76 2.8 1.92 3.57-.7-.02-1.36-.21-1.94-.53v.05c0 2.08 1.48 3.82 3.44 4.21-.36.1-.74.15-1.14.15-.28 0-.55-.03-.81-.08.55 1.7 2.14 2.94 4.03 2.97-1.47 1.15-3.32 1.83-5.33 1.83-.35 0-.69-.02-1.03-.06 1.9 1.22 4.16 1.92 6.56 1.92 7.88 0 12.2-6.52 12.2-12.2 0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"/></svg></a>
          <a href="#" aria-label="Instagram"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5M12 7a5 5 0 1 1 0 10 5 5 0 0 1 0-10m0 2a3 3 0 1 0 0 6 3 3 0 0 0 0-6z"/></svg></a>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2024 TechNova. All Rights Reserved.</p>
    </div>
  </footer>

  <script src="js/auth-ui.js"></script>
  <script src="js/nav.js"></script>
  <script src="js/checkout.js"></script>
</body>
</html>